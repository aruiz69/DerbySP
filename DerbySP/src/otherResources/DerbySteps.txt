CREATE TABLE CUSTOMER (
 ID BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
 FIRSTNAME VARCHAR(255), LASTNAME VARCHAR(255),
 PRIMARY KEY (ID)
 );
 
 INSERT INTO CUSTOMER VALUES(default, 'John', 'Doe');
 INSERT INTO CUSTOMER VALUES(default, 'Joe', 'Jones');
 INSERT INTO CUSTOMER VALUES(default, 'Sally', 'Smith');


CALL sqlj.install_jar( 'C:/dev/Java 8/DerbySP/dist/DerbySP.jar,  ', 'USER1.SampleStoredProcedures',0);

--CALL sqlj.remove_jar( 'USER1.SampleStoredProcedures',0);


CREATE PROCEDURE GETCUSTOMERLASTNAME(STREAM_ID BIGINT,
 OUT NAME VARCHAR(255))
 PARAMETER STYLE JAVA LANGUAGE JAVA EXTERNAL NAME
'samplestoredprocedures.SampleStoredProcedures.getCustomerLastNameById';

CALL SYSCS_UTIL.SYSCS_SET_DATABASE_PROPERTY('derby.database.classpath','USER1.SampleStoredProcedures');

--DROP PROCEDURE GETCUSTOMERLASTNAME
